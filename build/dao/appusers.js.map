{"version":3,"sources":["dao/appusers.ts"],"names":[],"mappings":";;AAAA,6BAA4B;AAC5B,sDAAkD;AAClD,sDAAkD;AAElD,SAAgB,MAAM,CAAC,OAAY;IAEjC,OAAO,mBAAQ,CAAC,OAAO,CAAC;QACtB,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;KACtB,CAAC;SACC,IAAI,CAAC,QAAQ,CAAC,EAAE;QACf,OAAO,iBAAO;aACX,MAAM,CAAC;YACN,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE;YACb,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,GAAG,EAAE,OAAO,CAAC,GAAG;YAChB,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;SAC/B,CAAC,CAAA;IACN,CAAC,CAAC,CAAA;AACN,CAAC;AAdD,wBAcC;AAED,SAAgB,OAAO;IACrB,OAAO,iBAAO;SACX,OAAO,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAA;AAC1C,CAAC;AAHD,0BAGC;AAED,SAAgB,KAAK,CAAC,OAAY;IAChC,OAAO,iBAAO;SACX,OAAO,CAAC;QACP,KAAK,EAAE;YACL,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,GAAG,EAAE,OAAO,CAAC,GAAG;SACjB;QACD,OAAO,EAAE,CAAC,mBAAQ,CAAC;KACpB,CAAC,CAAA;AACN,CAAC;AATD,sBASC","file":"appusers.js","sourcesContent":["import * as uuid from 'uuid'\nimport { AppUser } from './../sqlz/models/appuser'\nimport { Language } from '../sqlz/models/language'\n\nexport function create(appUser: any): Promise<any> {\n\n  return Language.findOne({\n    where: { name: 'fr' }\n  })\n    .then(language => {\n      return AppUser\n        .create({\n          id: uuid.v1(),\n          email: appUser.email,\n          pwd: appUser.pwd,\n          languageId: language.get('id')\n        })\n    })\n}\n\nexport function findAll(): Promise<any> {\n  return AppUser\n    .findAll({ include: [{ all: true }] })\n}\n\nexport function login(appUser: any): Promise<any> {\n  return AppUser\n    .findOne({\n      where: {\n        email: appUser.email,\n        pwd: appUser.pwd\n      },\n      include: [Language]\n    })\n}\n"],"sourceRoot":"../../src"}